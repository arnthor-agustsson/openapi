type: object
title: Ocean CD Rollout Spec
description: >
  Ocean CD rollout spec entity.
properties:
  name:
    type: string
    description: Identifier name for Ocean CD Rollout Spec. Must be a unique name
    example: service-rolloutspec
  spotDeployment:
    type: object
    $ref: "../schemas/oceanCDSpotDeploymentSelector.yaml"
  spotDeployments:
    type: array
    items:
      $ref: "../schemas/oceanCDSpotDeploymentSelector.yaml"
    description: You must specify either `SpotDeployment` OR `SpotDeployments` but not both.
      In case yot define more than one SpotDeployment, `traffic` manager may not be configured.
      Every SpotDeployment has to be unique.
  strategy:
    type: object
    $ref: "../schemas/oceanCDRolloutSpecStrategy.yaml"
  traffic:
    type: object
    $ref: "../schemas/oceanCDRolloutSpecTraffic.yaml"
  failurePolicy:
    type: object
    $ref: "../schemas/oceanCDRolloutSpecFailurePolicy.yaml"
required:
  - name
  - strategy